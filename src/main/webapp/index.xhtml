<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">
<h:head>

</h:head>

<h:body>
    <p:importEnum type="br.com.davi.devdojo.model.enums.Turno"
                  var="Turno" allSuffix="ALL_ENUM_VALUES"/>

    <f:view>
        <h:outputLabel value="Hello, world"/> <br/>
        <h:outputLabel value="#{estudanteRegistro.estudante.nome} "/>
        <h:outputLabel value="#{estudanteRegistro.estudante.sobrenome}"/>
        <br/>
        <h:outputLabel value="#{estudanteRegistro.estudante.nota1 eq estudanteRegistro.estudante.nota2}"/><br/>
        <h:outputLabel value="#{estudanteRegistro.estudante.nota2 == estudanteRegistro.estudante.nota3}"/><br/>
        <h:outputLabel
                value="#{estudanteRegistro.estudante.nota1 le estudanteRegistro.estudante.nota2 or estudanteRegistro.estudante.nota1 lt estudanteRegistro.estudante.nota3}"/><br/>
        <h:outputLabel value="#{estudanteRegistro.estudante.nota1 eq 0 ? 'ZERO' : 'DIFERENTE DE ZERO'}"/><br/>
        <h:outputLabel value="#{estudanteRegistro.estudante.nota1 = 10.0}"/><br/>
        <h:outputLabel value="Agora a nota 1 do Estudante é #{estudanteRegistro.estudante.nota1} --> PARA QUE ACONTEÇA A MUDANÇA
        DA NOTA, PRECISAMOS DE UM FORMULÁRIO PARA FAZER O POST DA NOTA"/><br/>
        <!--        PALAVRAS RESERVADAS NO JSF PARA OPERAÇÕES LÓGICAS: -->
        <!--        and, or, not, eq, ne (not equals), lt, gt, le, ge, true, false, null, instanceof, empty, div e mod-->
        <h:outputLabel value="#{estudanteRegistro.estudante.turno eq Turno.MATUTINO}"/><br/>

        <!--        ARRAY       -->
        <h:outputLabel value="#{estudanteRegistro.nomesArray[0]}
        #{estudanteRegistro.nomesArray[1]} #{estudanteRegistro.nomesArray[2]}"/><br/>
        <!--        ITERAÇÃO SOBRE ARRAY    -->
        <ui:repeat value="#{estudanteRegistro.nomesArray}" var="nome">
            <h:outputLabel value="#{nome}"/><br/>
        </ui:repeat>
        <!--        ITERAÇÃO SOBRE LIST    -->
        <ui:repeat value="#{estudanteRegistro.nomesList}" var="numeros">
            <h:outputLabel value="#{numeros}"/><br/>
        </ui:repeat>
        <!--        ITERAÇÃO SOBRE SET (NÃO PODEMOS PEGAR APENAS UM ÚNICO VALOR DO SET)    -->
        <ui:repeat value="#{estudanteRegistro.nomesSet.toArray()}" var="letras">
            <h:outputLabel value="#{letras}"/><br/>
        </ui:repeat>
        <!--        ITERAÇÃO SOBRE MAP    -->
        <h:outputLabel value="#{estudanteRegistro.nomesMap.get('Davi')}"/><br/>
        <ui:repeat value="#{estudanteRegistro.nomesMap.entrySet().toArray()}" var="valores">
            <h:outputLabel value="#{valores.key} - #{valores.value}"/><br/>
        </ui:repeat>

        <br/>
        <br/>
        <!-- EXECUTANDO MÉTODOS NO BEAN -->
        #{estudanteRegistro.executar(estudanteRegistro.estudante.nome)}
        #{estudanteRegistro.executarRetorno(estudanteRegistro.estudante.nome)}
        <h:form>
            <h:commandButton value="Próxima página"
                             action="#{estudanteRegistro.irParaIndex2()}"/>

            <br/>
            <br/>

            <h:commandButton value="Avisar o nome" onclick="atencaoNome('#{estudanteRegistro.estudante.nome}')"/>
        </h:form>

        <!-- IMPRIMINDO CSS COM EXPRESSION LANGUAGE -->
        <ui:repeat value="#{estudanteRegistro.nomesList}"
                   var="numeros"
                   varStatus="status">
            <h:outputLabel value="#{status.index} - #{numeros}"
                           style="color: #{status.index mod 2 == 0 ? 'red' : 'blue'}"/><br/>
        </ui:repeat>
        <br/>

        <h:form id="form">
            <h:commandButton value="Exibir Notas">
                <f:ajax listener="#{estudanteRegistro.exibirNotas()}" render="notasGrid"/>
            </h:commandButton>
            <h:commandButton value="Esconder Notas">
                <f:ajax listener="#{estudanteRegistro.esconderNotas()}" render="notasGrid"/>
            </h:commandButton>

            <br/>

            <h:commandButton value="Exibir Link">
                <f:ajax listener="#{estudanteRegistro.exibirLink()}" render="pgGroup"/>
            </h:commandButton>
            <h:commandButton value="Esconder Link">
                <f:ajax listener="#{estudanteRegistro.esconderLink()}" render="pgGroup"/>
            </h:commandButton>

            <br/>

            <h:panelGrid id="notasGrid">
                <h:outputLabel value="#{estudanteRegistro.estudante.nome}"/><br/>
                <h:outputLabel value="#{estudanteRegistro.estudante.sobrenome}"/><br/>
                <h:outputLabel value="#{estudanteRegistro.estudante.turno}"/><br/>
                <h:outputLabel value="#{estudanteRegistro.estudante.nota1}"
                               rendered="#{estudanteRegistro.mostrarNotas}"/>
                <h:outputLabel value="#{estudanteRegistro.estudante.nota2}"
                               rendered="#{estudanteRegistro.mostrarNotas}"/>
                <h:outputLabel value="#{estudanteRegistro.estudante.nota3}"
                               rendered="#{estudanteRegistro.mostrarNotas}"/>

                <h:panelGroup id="pgGroup">
                    <ui:fragment id="link_google" rendered="#{estudanteRegistro.mostrarLink}">
                        <a href="www.google.com.br" target="_blank">wwww.google.com.br</a>
                    </ui:fragment>
                </h:panelGroup>

            </h:panelGrid>
        </h:form>
    </f:view>

    <br/><br/><br/>

    <!--    LAMBDAS     -->

    #{(soma -> soma + num)(10)}
    #{((v1, v2, v3) -> v1*v2*v3)(1, 5, 10)}
    #{cubo=(x->x*x*x);cubo(10)}

    <h:form>
        <h:commandButton value="Calcular Cubo" actionListener="#{estudanteRegistro.calcularCubo((x->x*x*x), 10)}"/>
    </h:form>

    <!--    LISTAS     -->
    <ui:repeat value="#{['Davi', 'Menezes', 'Visintainer']}" var="nome">
        #{nome}
    </ui:repeat>
    <br/>
    <!--    SET     -->
    <ui:repeat value="#{{'Davi', 'Menezes', 'Visintainer', 'Davi'}}" var="nome">
        #{nome}
    </ui:repeat>
    <br/>
    <!--    MAP     -->
    <ui:repeat value="#{{'Davi':'NOME', 'Menezes':'PRIMEIRO_SOBRENOME', 'Visintainer':'ÚLTIMO_SOBRENOME'}}" var="nome">
        #{nome}
        <br/><br/>
        <ui:repeat value="#{nome.entrySet().toArray()}" var="nomeMap">
            #{nomeMap.key} - #{nomeMap.value}<br/>
        </ui:repeat>
    </ui:repeat>

</h:body>
<script type="text/javascript">
    function atencaoNome(nome) {
        alert(nome);
    }
</script>
</html>
